<!DOCTYPE html>
<html>

<head>
	<title>Metagons</title>
	<script src="p5.js"></script>
	<style>
		canvas {
			display: block;
			margin: 0 auto;
		}
	</style>
</head>



<body>
	<script>
		let scalar = 50;
		let w = 500;
		let h = 500;

		let points = [];
		let numPoints = 5;
		let numShapes = 25;


		function setup() {
			createCanvas(w, h);
			angleMode(DEGREES);
			colorMode(HSB);

			stroke(205,50,100);
			strokeWeight(2);
			//noStroke();
			//noFill();

			

			points[0] = createVector(0, 0);
			points[1] = createVector(points[0].x+cos(60), points[0].y+sin(60));
			points[2] = createVector(points[1].x+cos(-60), points[1].y+sin(-60));

			let a = -60;

			for (let sides = 4; sides < numShapes+3; sides++) {
				for (let vert = 0; vert < sides-2; vert++) {
					a -= 360/sides;
					points[points.length] = createVector(points[points.length-1].x+cos(a), points[points.length-1].y+sin(a))
				}
			}
			let centerVec = createVector(w/2, h/2);
			for (let i = 0; i< points.length; i++) {
				points[i] = points[i].mult(scalar).add(centerVec);
			}

			render();

		}

		function render() {
			background(200,70,15);

			for (let i = 0; i < points.length-1; i++) {
				beginShape(LINES);
				fill(90,50,50);

				vertex(points[i].x, h-points[i].y);
				vertex(points[i+1].x, h-points[i+1].y);

				endShape();
			}
		}

		function draw() {
			// move and rotate camera
			render();
		}

	</script>
</body>

</html>